<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mediमित्र | Reports & Analytics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/reports.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="reports-container">
        <!-- Header -->
        <div class="reports-header">
            <div class="header-left">
                <h1><i class="fas fa-chart-bar"></i> Reports & Analytics</h1>
                <p>Comprehensive insights into your medical coding and claims data</p>
            </div>
            <div class="header-right">
                <div class="period-selector">
                    <select id="periodSelect">
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month" selected>This Month</option>
                        <option value="quarter">This Quarter</option>
                        <option value="year">This Year</option>
                    </select>
                </div>
                <button class="btn btn-primary" id="exportBtn">
                    <i class="fas fa-download"></i> Export Report
                </button>
                <button class="btn btn-secondary" id="refreshBtn">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
        </div>

        <!-- Summary Stats -->
        <div class="summary-stats">
            <div class="stat-card">
                <div class="stat-icon revenue">
                    <i class="fas fa-rupee-sign"></i>
                </div>
                <div class="stat-content">
                    <h3>Total Revenue</h3>
                    <div class="stat-value">₹2,45,800</div>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> 12.5% from last month
                    </div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon claims">
                    <i class="fas fa-file-invoice-dollar"></i>
                </div>
                <div class="stat-content">
                    <h3>Total Claims</h3>
                    <div class="stat-value">1,245</div>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> 8.2% from last month
                    </div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon accuracy">
                    <i class="fas fa-bullseye"></i>
                </div>
                <div class="stat-content">
                    <h3>Coding Accuracy</h3>
                    <div class="stat-value">94.7%</div>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> 2.3% improvement
                    </div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon time">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-content">
                    <h3>Avg. Processing Time</h3>
                    <div class="stat-value">3.2 hours</div>
                    <div class="stat-change negative">
                        <i class="fas fa-arrow-down"></i> 1.1 hours faster
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-container large">
                <div class="chart-header">
                    <h3><i class="fas fa-chart-line"></i> Revenue Trend</h3>
                    <div class="chart-legend">
                        <span class="legend-item"><div class="legend-dot current"></div> Current Month</span>
                        <span class="legend-item"><div class="legend-dot previous"></div> Previous Month</span>
                    </div>
                </div>
                <div class="chart-body">
                    <canvas id="revenueChart"></canvas>
                </div>
            </div>
            
            <div class="chart-container medium">
                <div class="chart-header">
                    <h3><i class="fas fa-chart-pie"></i> Claims Distribution</h3>
                </div>
                <div class="chart-body">
                    <canvas id="claimsChart"></canvas>
                </div>
            </div>
            
            <div class="chart-container medium">
                <div class="chart-header">
                    <h3><i class="fas fa-chart-bar"></i> Top Procedures</h3>
                </div>
                <div class="chart-body">
                    <canvas id="proceduresChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Detailed Reports Tabs -->
        <div class="detailed-reports">
            <div class="tabs-header">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="claims">
                        <i class="fas fa-file-invoice-dollar"></i> Claims Report
                    </button>
                    <button class="tab-btn" data-tab="coding">
                        <i class="fas fa-code"></i> Coding Accuracy
                    </button>
                    <button class="tab-btn" data-tab="time">
                        <i class="fas fa-clock"></i> Processing Time
                    </button>
                    <button class="tab-btn" data-tab="revenue">
                        <i class="fas fa-rupee-sign"></i> Revenue Report
                    </button>
                </div>
                <div class="tab-actions">
                    <input type="text" id="searchInput" placeholder="Search reports..." class="search-input">
                    <button class="btn btn-outline"><i class="fas fa-filter"></i> Filter</button>
                </div>
            </div>
            
            <div class="tab-content active" id="claims-tab">
                <div class="table-container">
                    <div class="table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Claim ID</th>
                                    <th>Patient Name</th>
                                    <th>Hospital</th>
                                    <th>Procedure</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Submitted Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="table-footer">
                        <div class="pagination">
                            <button class="pagination-btn" id="prevBtn"><i class="fas fa-chevron-left"></i></button>
                            <span class="page-number active">1</span>
                            <span class="page-number">2</span>
                            <span class="page-number">3</span>
                            <span class="page-number">...</span>
                            <span class="page-number">10</span>
                            <button class="pagination-btn" id="nextBtn"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <div class="table-info">
                            Showing <span id="startRow">1</span>-<span id="endRow">10</span> of <span id="totalRows">1245</span> claims
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="coding-tab">
                <div class="chart-container">
                    <h3><i class="fas fa-bullseye"></i> Coding Accuracy by Department</h3>
                    <div class="chart-body">
                        <canvas id="accuracyChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="time-tab">
                <div class="chart-container">
                    <h3><i class="fas fa-tachometer-alt"></i> Average Processing Time by Hospital</h3>
                    <div class="chart-body">
                        <canvas id="timeChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="revenue-tab">
                <div class="chart-container">
                    <h3><i class="fas fa-chart-pie"></i> Revenue by Insurance Provider</h3>
                    <div class="chart-body">
                        <canvas id="revenueBreakdownChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Metrics -->
        <div class="key-metrics">
            <h2><i class="fas fa-chart-line"></i> Key Performance Indicators</h2>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-header">
                        <h4>First Pass Acceptance Rate</h4>
                        <div class="metric-value">82.4%</div>
                    </div>
                    <div class="metric-progress">
                        <div class="progress-bar" style="width: 82.4%"></div>
                    </div>
                    <div class="metric-change positive">+3.2% from last month</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <h4>Denial Rate</h4>
                        <div class="metric-value">5.2%</div>
                    </div>
                    <div class="metric-progress">
                        <div class="progress-bar danger" style="width: 5.2%"></div>
                    </div>
                    <div class="metric-change positive">-1.8% from last month</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <h4>Days in AR</h4>
                        <div class="metric-value">32.5</div>
                    </div>
                    <div class="metric-progress">
                        <div class="progress-bar warning" style="width: 65%"></div>
                    </div>
                    <div class="metric-change positive">-4.2 days from last month</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <h4>Clean Claim Rate</h4>
                        <div class="metric-value">91.7%</div>
                    </div>
                    <div class="metric-progress">
                        <div class="progress-bar" style="width: 91.7%"></div>
                    </div>
                    <div class="metric-change positive">+2.5% from last month</div>
                </div>
            </div>
        </div>

        <!-- Download Section -->
        <div class="download-section">
            <div class="download-card">
                <div class="download-icon">
                    <i class="fas fa-file-pdf"></i>
                </div>
                <div class="download-content">
                    <h3>Generate Detailed Report</h3>
                    <p>Download comprehensive reports in PDF, Excel, or CSV format</p>
                    <div class="download-options">
                        <button class="btn btn-outline"><i class="fas fa-file-pdf"></i> PDF</button>
                        <button class="btn btn-outline"><i class="fas fa-file-excel"></i> Excel</button>
                        <button class="btn btn-outline"><i class="fas fa-file-csv"></i> CSV</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Loading reports data...</p>
        </div>
    </div>

    <script src="js/reports.js"></script>
</body>
</html>